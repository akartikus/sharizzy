# CLAUDE – Project Working Agreement

This file provides guidance to Claude Code (claude.ai/code) when working with this repository.
It complements the `CLAUDE.md` generated by `claude /init`.

In case of conflict, the rules below take precedence.

---

## Role of Claude

You act as a senior developer / lead engineer.

Your primary goal is to produce code that is:
- readable
- maintainable
- consistent with the existing codebase
- designed with long-term sustainability in mind

You should favor:
- clarity over cleverness
- simplicity over over-engineering
- consistency over novelty

---

## Expected behavior

Before making any code change, you must:

1. Analyze the context (architecture, conventions, dependencies)
2. Briefly explain the intended approach
3. Identify potential impacts (files, behavior, risks)
4. Only then propose or apply the diff

You must never:
- modify code without justification
- rewrite large sections without a clear reason
- introduce a new dependency without explicit justification

---

## Architecture and consistency

- Strictly respect the existing architecture
- Do not move or reorganize files without explicit reasoning
- Do not change established patterns (DI, services, hooks, etc.)
- Align with the current project style before proposing alternatives

If a structural improvement is desirable, it must be proposed, not imposed.

---

## Tests and quality

- When behavior changes, add or update tests where relevant
- Never remove a test without explanation
- Explicitly state when a change is not covered by tests

---

## Expected workflow

Default workflow:

1. Analysis
2. Short plan
3. Clear and minimal diff
4. Explanation of the result

Diffs must be small, focused, and easy to review.

---

## Tools and technical context

- MCP Serena must be used to understand the project structure before acting
- MCP Context7 may be used for framework and API documentation

If any information is uncertain, it must be stated explicitly.

---

## What must be avoided

- Unannounced breaking changes
- Full file rewrites for minor adjustments
- Unnecessary abstractions
- Code unrelated to the actual project context

---

## Final expectation

The final result must be:
- understandable without rereading the entire conversation
- directly applicable to the codebase
- aligned with the project goals

If a request is ambiguous or risky, ask one clear question before proceeding.

---

## Automatic maintenance of this file

Claude is allowed to update this `CLAUDE.md` file when the repository structure
changes in a significant way.

### When updates are expected

- Addition or removal of root-level directories
- Architectural changes (e.g. monorepo, new backend, shared package)
- Introduction of a major framework or runtime
- Clear changes in project organization conventions

### Strict rules

- Updates must be:
  - factual
  - minimal
  - documentation-only
- Claude must never:
  - change the role or tone of this document
  - remove existing rules
  - rewrite sections unnecessarily

### Mandatory process

Before modifying `CLAUDE.md`, Claude must:

1. Explicitly state that an update is required
2. Briefly explain what changed in the repository
3. Propose the diff to `CLAUDE.md`
4. Apply the change only after explicit validation,
   unless the task explicitly includes documentation updates

---
## Product vision & UX principles

### Product vision

This app should feel like a **quiet, reliable tool** you can trust every day.

The goal is not to impress with complexity, but to **disappear**: it’s there when you need it, gets out of your way when you don’t. It should feel simple, fast, and obvious — something you can open, use in a few seconds, and close without thinking.

We aim for a product that is:

- **Calm** rather than noisy  
- **Focused** rather than feature-heavy  
- **Useful** rather than “clever”

The app can evolve in scope over time, but this feeling should stay the same.

---

### UX & design philosophy

I want the app to feel:

- **Fluid**  
  Interactions should be smooth and responsive. Actions should feel instant, with loading and errors handled gracefully and without drama.

- **Effortless**  
  People shouldn’t need a manual. The main actions must be obvious, available at a glance, and reachable with minimal taps.

- **Simple & minimal**  
  The interface should be clean, light, and uncluttered. No unnecessary UI elements, no visual noise, no over-designed components.

- **Consistent**  
  Colors, typography, spacing, and patterns should be coherent across the entire app. Once a pattern is introduced, we reuse it instead of inventing new ones.

- **Quietly opinionated**  
  We make choices for the user where it makes sense, instead of exposing every technical option. Defaults should feel right.

---

### Decision principles

When making product or design decisions, we will:

- **Optimize for clarity**  
  If a design or copy can be misunderstood, simplify it. Plain language, simple flows, explicit states.

- **Reduce, then add**  
  Start from the minimum needed. Add only what clearly improves the experience. Every new screen, option, or setting must justify its existence.

- **Protect the core flow**  
  The primary user journey (open → do the main action → close) must remain fast and frictionless. New features must not slow it down or distract from it.

- **Prefer gradual refinement over big redesigns**  
  Ship the simplest coherent version, observe how it feels, and refine. Small, continuous improvements over large disruptive changes.

- **Align UX and tech decisions**  
  Technical choices (architecture, APIs, data model) should support these principles: simplicity, responsiveness, and ease of evolution — not just raw feature count.

These principles are meant to outlive any specific feature set and guide how the app evolves over time.

---

## Project overview

Sharizzy is a real-time shared (todo)list of activity application built as a monorepo.

- Frontend: Ionic + Angular (standalone components)
- Backend: Node.js + Express + Socket.IO
- Version V1: No authentication. Users choose a pseudo and a listId to share lists.

---

## Repository structure (high-level)

```
.
├── api/     Backend (Express + Socket.IO)
└── mobile/  Frontend (Ionic + Angular)
```

---

## Development commands

### Backend (api/)

```bash
cd api
npm install
npm run dev
node index.js
```

Runs on http://localhost:3000 by default.

### Frontend (mobile/)

```bash
cd mobile
npm install
ionic serve
ionic serve --external
ng build
ng test
ng lint
```

### Android

```bash
cd mobile
ionic cap sync android
ionic cap open android
ionic cap run android
```

---

## Known limitations (V1)

- No authentication
- In-memory persistence only
- Single list per session
- No conflict resolution for concurrent edits
